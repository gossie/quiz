type Event @model @auth(rules: [{allow: public}]) {
    id: ID! @primaryKey
    aggregateId: ID @index(name: "byAggregateId", sortKeyFields: ["createdAt"], queryField: "eventsByAggregateId")
    type: String
    sequenceNumber: Int
    createdAt: AWSDateTime
    domainEvent: AWSJSON
}

type Subscription {
    subscribeToEvents(aggregateId: ID!): Event @aws_subscribe(mutations: ["createEvent"])
}
